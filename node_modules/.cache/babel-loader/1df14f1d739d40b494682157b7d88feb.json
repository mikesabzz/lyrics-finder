{"ast":null,"code":"import _defineProperty from\"/Users/michaelsabzevari/Desktop/personal_projects/react/lyrics-finder/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Users/michaelsabzevari/Desktop/personal_projects/react/lyrics-finder/node_modules/@babel/runtime/regenerator\";import _classCallCheck from\"/Users/michaelsabzevari/Desktop/personal_projects/react/lyrics-finder/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/michaelsabzevari/Desktop/personal_projects/react/lyrics-finder/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/michaelsabzevari/Desktop/personal_projects/react/lyrics-finder/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/michaelsabzevari/Desktop/personal_projects/react/lyrics-finder/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/michaelsabzevari/Desktop/personal_projects/react/lyrics-finder/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/michaelsabzevari/Desktop/personal_projects/react/lyrics-finder/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import axios from'axios';import Lyrics from'../Lyrics';import FormInput from'../FormInput';import ITunes from'../ITunes';var LyricFinder=/*#__PURE__*/function(_Component){_inherits(LyricFinder,_Component);function LyricFinder(){var _this;_classCallCheck(this,LyricFinder);_this=_possibleConstructorReturn(this,_getPrototypeOf(LyricFinder).call(this));_this.fetchData=function _callee(){return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({loading:true,error:false});_context.next=3;return _regeneratorRuntime.awrap(axios.get(\"https://api.lyrics.ovh/v1/\".concat(_this.state.artist,\"/\").concat(_this.state.title)).then(function(res){_this.setState({loading:false,artistLyrics:res.data});}).catch(function(error){console.log(error);_this.setState({error:true,loading:false});}));case 3:case\"end\":return _context.stop();}}});};_this.fetchItunesData=function _callee2(){return _regeneratorRuntime.async(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this.setState({loading:true,error:false});_context2.next=3;return _regeneratorRuntime.awrap(axios.get(\"https://itunes.apple.com/search?term=\".concat(_this.state.artist,\"&term=\").concat(_this.state.title,\"&limit=1\"),{mode:'no-cors'}).then(function(res){_this.setState({loading:false,itunes:res.data.results});}).catch(function(error){console.log(error);_this.setState({error:true,loading:false});}));case 3:case\"end\":return _context2.stop();}}});};_this.state={loading:false,artistLyrics:{},error:\"\",artist:\"\",title:\"\",itunes:[],hidden:false};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSecondChange=_this.handleSecondChange.bind(_assertThisInitialized(_this));_this.clear=_this.clear.bind(_assertThisInitialized(_this));return _this;}_createClass(LyricFinder,[{key:\"clear\",value:function clear(){this.reset();}},{key:\"handleChange\",value:function handleChange(event){event.preventDefault();var _event$target=event.target,name=_event$target.name,value=_event$target.value;this.setState(_defineProperty({},name,value));}},{key:\"handleSecondChange\",value:function handleSecondChange(event){event.preventDefault();var _event$target2=event.target,name=_event$target2.name,value=_event$target2.value;this.setState(_defineProperty({},name,value));}},{key:\"handleSubmit\",value:function handleSubmit(event){event.preventDefault();this.fetchData();this.fetchItunesData();this.handleChange(event);this.handleSecondChange(event);this.setState({hidden:true});}},{key:\"componentDidMount\",value:function componentDidMount(){document.body.style.backgroundColor=\"black\";}},{key:\"render\",value:function render(){return React.createElement(\"div\",null,React.createElement(FormInput,{handleSubmit:this.handleSubmit,handleChange:this.handleChange,handleSecondChange:this.handleSecondChange,artist:this.state.artist,title:this.state.title,clear:this.clear,hidden:this.state.hidden}),React.createElement(Lyrics,{error:this.state.error,artistLyrics:this.state.artistLyrics,loading:this.state.loading,hidden:this.state.hidden}),React.createElement(ITunes,{error:this.state.error,itunes:this.state.itunes,loading:this.state.loading,artist:this.state.artist,title:this.state.title}));}}]);return LyricFinder;}(Component);export default LyricFinder;","map":{"version":3,"sources":["/Users/michaelsabzevari/Desktop/personal_projects/react/lyrics-finder/src/components/LyricFinder/index.js"],"names":["React","Component","axios","Lyrics","FormInput","ITunes","LyricFinder","fetchData","setState","loading","error","get","state","artist","title","then","res","artistLyrics","data","catch","console","log","fetchItunesData","mode","itunes","results","hidden","handleSubmit","bind","handleChange","handleSecondChange","clear","reset","event","preventDefault","target","name","value","document","body","style","backgroundColor"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport axios from 'axios'\nimport Lyrics from '../Lyrics'\nimport FormInput from '../FormInput'\nimport ITunes from '../ITunes'\n\nclass LyricFinder extends Component {\n    constructor() {\n        super()\n        this.state = {\n            loading: false,\n            artistLyrics: {},\n            error: \"\",\n            artist: \"\",\n            title: \"\",\n            itunes: [],\n            hidden: false\n        }\n        this.handleSubmit = this.handleSubmit.bind(this)\n        this.handleChange = this.handleChange.bind(this)\n        this.handleSecondChange = this.handleSecondChange.bind(this)\n        this.clear = this.clear.bind(this)         \n    }\n    \n    fetchData = async () => {\n        this.setState({ loading: true, error: false })\n        await axios.get(`https://api.lyrics.ovh/v1/${this.state.artist}/${this.state.title}`)\n            .then(res => {\n                this.setState({\n                    loading: false,\n                    artistLyrics: res.data\n                })\n            })\n            .catch(error => {\n                console.log(error)\n                this.setState({error: true, loading: false})\n            })\n    }\n\n    fetchItunesData = async () => {\n        this.setState({ loading: true, error: false})\n        await axios.get(`https://itunes.apple.com/search?term=${this.state.artist}&term=${this.state.title}&limit=1`, \n        {mode: 'no-cors'})\n        .then(res => {\n            this.setState({\n                loading: false,\n                itunes: res.data.results,\n            })\n        })\n        .catch(error => {\n            console.log(error)\n            this.setState({error: true, loading: false})\n        })\n    }\n\n    clear() {\n        this.reset()\n    }\n    handleChange(event) {\n        event.preventDefault()\n        const {name, value} = event.target\n        this.setState({[name]: value})\n    }\n    handleSecondChange(event) {\n        event.preventDefault()\n        const {name, value} = event.target\n        this.setState({[name]: value})\n    }\n    handleSubmit(event) {\n        event.preventDefault()\n        this.fetchData()\n        this.fetchItunesData()\n        this.handleChange(event)\n        this.handleSecondChange(event)\n        this.setState({ hidden : true });\n    }\n    componentDidMount() {\n        document.body.style.backgroundColor = \"black\"    \n    }\n    render() {\n        return (\n            <div>\n                <FormInput\n                    handleSubmit={this.handleSubmit}\n                    handleChange={this.handleChange}\n                    handleSecondChange={this.handleSecondChange}\n                    artist={this.state.artist}\n                    title={this.state.title}\n                    clear={this.clear}\n                    hidden={this.state.hidden}\n                />\n                <Lyrics\n                    error={this.state.error}\n                    artistLyrics={this.state.artistLyrics}\n                    loading={this.state.loading}\n                    hidden={this.state.hidden}\n                />\n                <ITunes \n                    error={this.state.error}\n                    itunes={this.state.itunes}\n                    loading={this.state.loading}\n                    artist={this.state.artist}\n                    title={this.state.title}\n                /> \n            </div>\n        )\n    }\n}\nexport default LyricFinder"]},"metadata":{},"sourceType":"module"}