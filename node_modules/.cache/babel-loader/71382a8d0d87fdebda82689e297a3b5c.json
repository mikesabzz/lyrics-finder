{"ast":null,"code":"import _defineProperty from\"/Users/michaelsabzevari/Desktop/personal_projects/react/lyrics-finder/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Users/michaelsabzevari/Desktop/personal_projects/react/lyrics-finder/node_modules/@babel/runtime/regenerator\";import _classCallCheck from\"/Users/michaelsabzevari/Desktop/personal_projects/react/lyrics-finder/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/michaelsabzevari/Desktop/personal_projects/react/lyrics-finder/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/michaelsabzevari/Desktop/personal_projects/react/lyrics-finder/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/michaelsabzevari/Desktop/personal_projects/react/lyrics-finder/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/michaelsabzevari/Desktop/personal_projects/react/lyrics-finder/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/michaelsabzevari/Desktop/personal_projects/react/lyrics-finder/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import axios from'axios';import Lyrics from'../Lyrics';import FormInput from'../FormInput';import ITunes from'../ITunes';var LyricFinder=/*#__PURE__*/function(_Component){_inherits(LyricFinder,_Component);function LyricFinder(){var _this;_classCallCheck(this,LyricFinder);_this=_possibleConstructorReturn(this,_getPrototypeOf(LyricFinder).call(this));_this.fetchData=function _callee(){return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({loading:true,lyricError:false});_context.next=3;return _regeneratorRuntime.awrap(axios.get(\"https://api.lyrics.ovh/v1/\".concat(_this.state.artist,\"/\").concat(_this.state.title)).then(function(res){_this.setState({loading:false,artistLyrics:res.data});}).catch(function(error){console.log(error);_this.setState({lyricError:true,loading:false});}));case 3:case\"end\":return _context.stop();}}});};_this.fetchItunesData=function _callee2(){return _regeneratorRuntime.async(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this.setState({loading:true,ituneError:false});_context2.next=3;return _regeneratorRuntime.awrap(axios.get(\"https://itunes.apple.com/search?term=\".concat(_this.state.artist,\"&term=\").concat(_this.state.title,\"&limit=1\")).then(function(res){_this.setState({loading:false,itunes:res.data.results});}).catch(function(error){console.log(error);_this.setState({ituneError:true,loading:false});}));case 3:case\"end\":return _context2.stop();}}});};_this.state={loading:false,artistLyrics:{},lyricError:\"\",ituneError:\"\",artist:\"\",title:\"\",itunes:[]};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSecondChange=_this.handleSecondChange.bind(_assertThisInitialized(_this));_this.clear=_this.clear.bind(_assertThisInitialized(_this));return _this;}_createClass(LyricFinder,[{key:\"clear\",value:function clear(){this.reset();}},{key:\"handleChange\",value:function handleChange(event){event.preventDefault();var _event$target=event.target,name=_event$target.name,value=_event$target.value;this.setState(_defineProperty({},name,value));}},{key:\"handleSecondChange\",value:function handleSecondChange(event){event.preventDefault();var _event$target2=event.target,name=_event$target2.name,value=_event$target2.value;this.setState(_defineProperty({},name,value));}},{key:\"handleSubmit\",value:function handleSubmit(event){event.preventDefault();this.fetchData();this.fetchItunesData();this.handleChange(event);this.handleSecondChange(event);}},{key:\"componentDidMount\",value:function componentDidMount(){document.body.style.backgroundColor=\"black\";}},{key:\"render\",value:function render(){return React.createElement(\"div\",null,React.createElement(FormInput,{handleSubmit:this.handleSubmit,handleChange:this.handleChange,handleSecondChange:this.handleSecondChange,artist:this.state.artist,title:this.state.title,clear:this.clear}),React.createElement(Lyrics,{lyricError:this.state.lyricError,artistLyrics:this.state.artistLyrics,loading:this.state.loading}),React.createElement(ITunes,{ituneError:this.state.ituneError,itunes:this.state.itunes,loading:this.state.loading,artist:this.state.artist}));}}]);return LyricFinder;}(Component);export default LyricFinder;","map":{"version":3,"sources":["/Users/michaelsabzevari/Desktop/personal_projects/react/lyrics-finder/src/components/LyricFinder/index.js"],"names":["React","Component","axios","Lyrics","FormInput","ITunes","LyricFinder","fetchData","setState","loading","lyricError","get","state","artist","title","then","res","artistLyrics","data","catch","error","console","log","fetchItunesData","ituneError","itunes","results","handleSubmit","bind","handleChange","handleSecondChange","clear","reset","event","preventDefault","target","name","value","document","body","style","backgroundColor"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport axios from 'axios'\nimport Lyrics from '../Lyrics'\nimport FormInput from '../FormInput'\nimport ITunes from '../ITunes'\n\nclass LyricFinder extends Component {\n    constructor() {\n        super()\n        this.state = {\n            loading: false,\n            artistLyrics: {},\n            lyricError: \"\",\n            ituneError: \"\",\n            artist: \"\",\n            title: \"\",\n            itunes: []\n        }\n        this.handleSubmit = this.handleSubmit.bind(this)\n        this.handleChange = this.handleChange.bind(this)\n        this.handleSecondChange = this.handleSecondChange.bind(this)\n        this.clear = this.clear.bind(this) \n        \n    }\n    \n    fetchData = async () => {\n        this.setState({ loading: true, lyricError: false })\n        await axios.get(`https://api.lyrics.ovh/v1/${this.state.artist}/${this.state.title}`)\n            .then(res => {\n                this.setState({\n                    loading: false,\n                    artistLyrics: res.data\n                })\n            })\n            .catch(error => {\n                console.log(error)\n                this.setState({lyricError: true, loading: false})\n            })\n    }\n\n    fetchItunesData = async () => {\n        this.setState({ loading: true, ituneError: false})\n        await axios.get(`https://itunes.apple.com/search?term=${this.state.artist}&term=${this.state.title}&limit=1`)\n        .then(res => {\n            this.setState({\n                loading: false,\n                itunes: res.data.results,\n            })\n        })\n        .catch(error => {\n            console.log(error)\n            this.setState({ituneError: true, loading: false})\n        })\n    }\n\n    clear() {\n        this.reset()\n    }\n    handleChange(event) {\n        event.preventDefault()\n        const {name, value} = event.target\n        this.setState({[name]: value})\n    }\n    handleSecondChange(event) {\n        event.preventDefault()\n        const {name, value} = event.target\n        this.setState({[name]: value})\n    }\n    handleSubmit(event) {\n        event.preventDefault()\n        this.fetchData()\n        this.fetchItunesData()\n        this.handleChange(event)\n        this.handleSecondChange(event)\n    }\n    componentDidMount() {\n        document.body.style.backgroundColor = \"black\"    \n    }\n    render() {\n        return (\n            <div>\n                <FormInput\n                    handleSubmit={this.handleSubmit}\n                    handleChange={this.handleChange}\n                    handleSecondChange={this.handleSecondChange}\n                    artist={this.state.artist}\n                    title={this.state.title}\n                    clear={this.clear}\n                />\n                <Lyrics\n                    lyricError={this.state.lyricError}\n                    artistLyrics={this.state.artistLyrics}\n                    loading={this.state.loading}\n                />\n                <ITunes \n                    ituneError={this.state.ituneError}\n                    itunes={this.state.itunes}\n                    loading={this.state.loading}\n                    artist={this.state.artist}\n                />\n            </div>\n        )\n    }\n}\nexport default LyricFinder"]},"metadata":{},"sourceType":"module"}